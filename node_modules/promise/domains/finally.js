'use strict';

var Promise = require('./core.js');

module.exports = Promise;
<<<<<<< HEAD
Promise.prototype.finally = function (f) {
=======
Promise.prototype['finally'] = function (f) {
>>>>>>> ccf4ef540d142acab786b4657d1af828d3bbf945
  return this.then(function (value) {
    return Promise.resolve(f()).then(function () {
      return value;
    });
  }, function (err) {
    return Promise.resolve(f()).then(function () {
      throw err;
    });
  });
};
